<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dfz.mybatis.mapper.BlogMapper">
    <select id="blogIfTest" parameterType="Blog" resultType="Blog">
        SELECT * FROM blog WHERE 1=1
        <if test="title!=null">
            AND title=#{title}
        </if>
        <if test="content!=null">
            AND content=#{content}
        </if>
        <if test="owner!=null">
            AND owner=#{owner}
        </if>
    </select>

    
    <select id="blogChooseTest" parameterType="Blog" resultType="Blog">
        SELECT * FROM blog WHERE 1=1
        <choose>
            <when test="title!=null">
                AND title=#{title}
            </when>

            <otherwise>
                AND owner="owner1"
            </otherwise>
        </choose>
    </select>

    <select id="blogTrimTest" parameterType="Blog" resultType="Blog">
        SELECT * FROM blog
        <trim prefix="where" prefixOverrides="and|or">
            <if test="title != null">
                title = #{title}
            </if>
            <if test="content != null">
                and content = #{content}
            </if>
            <if test="owner != null">
                or owner = #{owner}
            </if>
        </trim>
    </select>


</mapper>
